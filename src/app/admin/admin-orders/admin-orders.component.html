<div class="admin-orders">
  <h2>Manage Orders</h2>
  
  <div class="order-filters">
    <div class="filter-group">
      <label for="status-filter">Filter by Status:</label>
      <select id="status-filter">
        <option value="all">All Orders</option>
        <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
      </select>
    </div>
  </div>
  
  <div class="order-list">
    <div *ngFor="let order of orders" class="order-card">
      <div class="order-header">
        <div class="order-id">Order #{{ order.id }}</div>
        <div class="order-status" [ngClass]="{
          'status-pending': order.status === 'Pending',
          'status-processing': order.status === 'Processing',
          'status-shipped': order.status === 'Shipped',
          'status-delivered': order.status === 'Delivered',
          'status-cancelled': order.status === 'Cancelled'
        }">
          {{ order.status }}
        </div>
      </div>
      
      <div class="order-details">
        <div class="customer-info">
          <h4>Customer</h4>
          <p>{{ order.userName }}</p>
          <p>User ID: {{ order.userId }}</p>
        </div>
        
        <div class="order-items">
          <h4>Items</h4>
          <table>
            <thead>
              <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Subtotal</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of order.items">
                <td>{{ item.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.price | currency }}</td>
                <td>{{ item.price * item.quantity | currency }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="order-footer">
        <div class="order-total">
          <strong>Total: {{ order.total | currency }}</strong>
        </div>
        
        <div class="order-dates">
          <p>Created: {{ order.createdAt | date }}</p>
          <p *ngIf="order.updatedAt.getTime() !== order.createdAt.getTime()">
            Updated: {{ order.updatedAt | date }}
          </p>
        </div>
        
        <div class="order-actions">
          <label for="status-{{order.id}}">Update Status:</label>
          <select id="status-{{order.id}}" 
                  [(ngModel)]="order.status"
                  (change)="onStatusChange(order, $event)">
            <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
          </select>
        </div>
      </div>
    </div>
  </div>
</div>
