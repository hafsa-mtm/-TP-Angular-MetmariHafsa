<!-- sidebar.component.html -->
<aside class="sidebar">
  <div class="sidebar-header">
    <h2>
      {{ isAdminRoute() ? 'Admin Panel' : 
         (authService.isLoggedIn() ? 'My Account' : 'Welcome') }}
    </h2>
  </div>

  <nav class="sidebar-nav">
    <!-- Cart Link (only shown in non-admin views) -->
    <ng-container *ngIf="!isAdminRoute()">
      <a routerLink="/cart" routerLinkActive="active" class="nav-link">
        <span>🛒</span> Cart
        <span *ngIf="cartCount > 0" class="cart-badge">
          {{ cartCount }}
        </span>
      </a>
    </ng-container>

    <!-- Admin Links -->
    <ng-container *ngIf="isAdminRoute()">
      <div class="section-divider">Admin</div>
      <a *ngFor="let link of adminLinks" 
         [routerLink]="link.path" 
         routerLinkActive="active">
        <span>{{link.icon}}</span> {{link.label}}
      </a>
    </ng-container>

    <!-- Regular User Links -->
    <ng-container *ngIf="authService.isLoggedIn() && !isAdminRoute()">
      <div class="section-divider">My Account</div>
      <a *ngFor="let link of userLinks" 
         [routerLink]="link.path" 
         routerLinkActive="active">
        <span>{{link.icon}}</span> {{link.label}}
      </a>
    </ng-container>
  </nav>

  <div class="sidebar-footer">
    <ng-container *ngIf="!authService.isLoggedIn()">
      <a routerLink="/login" class="auth-link">
        <span>🔑</span> Login
      </a>
      <a routerLink="/signup" class="auth-link signup">
        <span>✏️</span> Sign Up
      </a>
    </ng-container>
    <ng-container *ngIf="authService.isLoggedIn()">
      <button (click)="authService.logout()" class="auth-link">
        <span>🚪</span> Logout
      </button>
    </ng-container>
  </div>
</aside>